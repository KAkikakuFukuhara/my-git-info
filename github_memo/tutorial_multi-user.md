# 複数人での開発

 　本稿は`git`のチュートリアルと`github`のチュートリアルを終わらせた読者を対象としている。  
 　ここまで、gitやgithubの運用には他人が関わってくることがなかった。しかし、開発を行っていると複数人で同一のリポジトリを扱うことが発生する。このような場合、今までのやり方で少しまずい。そのため、ココでは複数人での開発におけるgitおよびgithubの運用に関して記載する。  

- [1. 問題点](#1-問題点)
- [2. 解決策](#2-解決策)

## 1. 問題点

 　さて、まず今まで実行してきた方法を復習する。今までは以下の流れで開発を行ってきた。  
 1. 新しく機能を入れたい場合や修正を行いたい場合、まず新しく作業用ブランチを切る  
 2. 作業用ブランチで変更を追加してコミットする。  
 3. masterブランチにチェックアウトして、`git pull`を行い、masterブランチを最新にする。  
 4. masterブランチに作業用ブランチをマージする。コンフリクトが発生したら解決する。  
 5. リモートリポジトリにmasterブランチをプッシュする。  

 　上記の流れの内、複数人での開発における変更点は４と５である。
 　具体的には、４においてローカルリポジトリ上でメインブランチであるmasterブランチに作業用ブランチをマージさせないこと。そして、５においてメインブランチにリモートブランチを直接プッシュしないことである。前者がダメな理由はメインブランチの最新性が保証されていないことや、マージした履歴を残せないことなどが挙げられる。具体的にはローカルリポジトリ上でメインブランチへマージを行う際に`git pull`などのし忘れを防止することができること。また、github上ではコメント以外でのマージした履歴をチャット形式で残せるがその機能が使われないことで、どのような変更が発生したか調べる労力が発生する点などである。
 　次に、後者がダメな理由は更新した内容によるエラーやバグなどが原因で、今まで動いていたメインブランチが動かなくなることである。メインブランチに直接プッシュせずにワンクッションおいて、リポジトリの管理者（例えばリードエンジニア等）に変更を見てもらうことができるからである。  

## 2. 解決策

 　さて、このように良くない点を挙げてきたが、実際にどのように対策するかというとプルリクエスト（PR）という機能を用いる。  
 　具体的な使用方法は以下のURLを参考にする。  
- [https://qiita.com/hinakko/items/2be68f1164473d295325](https://qiita.com/hinakko/items/2be68f1164473d295325)

 　なお上記の方法は`github`上のリポジトリに置いてメンテナー以上の権限もしくは(Write permission)を持っている場合に限る。このユーザーの権限一覧に関しては以下を読むように。  
- [https://qiita.com/w_tkmn/items/ee16bf16715f4bbcbd9b](https://qiita.com/w_tkmn/items/ee16bf16715f4bbcbd9b)

 　もし権限が足りない場合は、以下のようにフォークしてからプルリクエストを送る方法もある。  
- [https://qiita.com/YumaInaura/items/acff806290c8953d3185](https://qiita.com/YumaInaura/items/acff806290c8953d3185)

